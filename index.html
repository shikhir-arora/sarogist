<!doctype html>
<html>

<head>
    <title>OAuth2 Gist Access</title>
    <script src="https://code.jquery.com/jquery-1.11.2.js"></script>
    <script src="https://unpkg.com/netlify-auth-providers"></script>
    <script>
        $(function() {
          $("#login").on("click", function(e) {
            e.preventDefault();
            var authenticator = new netlify.default ({});
            authenticator.authenticate({provider:"github", scope: "gist"}, function(err, data) {
              if (err) {
                return $("#output").text("Error Authenticating with GitHub: " + err);
              }
              $("#output").text("Authenticated with GitHub. Scope: Gist, Access Token: " + data.token);
            });
          });
        });
    </script>
</head>

<body>
    <h1>GitHub Gist Auth:</h1>
    <p><a href="#" id="login">Authenticate</a></p>
    <p id="output"></p>
</body>

</html>
